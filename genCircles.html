<html>
  <head>
  <meta charset="utf-8"> 
    <script src="./d3.v5.min.js"></script>
    <meta http-equiv="refresh" content="2"> 
<style>
body {
  padding: 0;
  margin: 10;
}
</style>
</head>
<body>
<script>

var size = 300;
var steps = 15;
var stepSize = size / steps;

var palette = [
'#CF6EC5', '#45246B', '#A3E0D4', '#A6DB94'
]

var numberOfCircles = getRandomInt(15, 22);
var jsonCircles = [];

for (var i = numberOfCircles; i > 0; i--) {

	/* following grid */
	var radiusSteps = getRandomInt(1, 3);
	var radius = radiusSteps * stepSize;

	/* circles getting cut by boundary */
	var x = getRandomInt(0, steps) * stepSize;
	var y = getRandomInt(0, steps) * stepSize;

	/* circles completely inside boundary
	var x = getRandomInt(radiusSteps, steps - radiusSteps) * stepSize;
	var y = getRandomInt(radiusSteps, steps - radiusSteps) * stepSize;*/

	/* not following grid
	var radius = getRandomInt(stepSize, stepSize*5);
	var x = getRandomInt(0, size);
	var y = getRandomInt(0, size);*/

	var color = getRandomFromPalette();

	jsonCircles.push({"x" : x, "y": y,  "radius": radius, "color": color})

}

var svgContainer = d3.select("body").append("svg")
	.attr("width", size)
	.attr("height", size);

var circles = svgContainer.selectAll("circle")
	.data(jsonCircles)
	.enter()
	.append("circle");


var circleAttributes = circles
	.attr("cx", function(d) {return d.x;})
	.attr("cy", function(d) {return d.y;})
	.attr("r", function(d) {return d.radius;})
	.style("fill", function(d) {return d.color;})
	.style("opacity", 0.7);


/* control lines  
svgContainer.append("rect")
	.attr("width", "100%")
	.attr("height", "100%")
	.attr("fill", "none")
	.attr("stroke", "black");
*/
/* later I'll objectify it http://elliotbentley.com/2017/08/09/a-better-way-to-structure-d3-code-es6-version.html */	


function getRandomInt(min, max) {
	return Math.floor(Math.random() * (max - min + 1) ) + min;
}

function getRandomFromPalette() {
	return palette[getRandomInt(0, palette.length -1)];
}
</script>
</body>
</html>
